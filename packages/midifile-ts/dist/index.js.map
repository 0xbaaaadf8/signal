{"version":3,"file":"index.js","sources":["../src/stream.ts","../src/deserialize.ts","../src/read.ts","../src/toCharCodes.ts","../src/buffer.ts","../src/vlq.ts","../src/constants/MIDIChannelEvents.ts","../src/constants/MIDIMetaEvents.ts","../src/serialize.ts","../src/write.ts","../src/constants/MIDIControlEventNames.ts","../src/constants/MIDIControlEvents.ts","../src/constants/MIDIMetaEventNames.ts"],"sourcesContent":["export interface Data<T> extends Iterable<T> {\r\n  slice(start?: T, end?: T): Data<T>\r\n  readonly length: number\r\n}\r\n\r\n/* Wrapper for accessing strings through sequential reads */\r\nexport default class Stream {\r\n  private buf: Data<number>\r\n  private position = 0\r\n\r\n  constructor(buf: Data<number>) {\r\n    this.buf = buf\r\n  }\r\n\r\n  readByte() {\r\n    const result = this.buf[this.position]\r\n    this.position++\r\n    return result\r\n  }\r\n\r\n  readStr(length: number): string {\r\n    return this.read(length).toString()\r\n  }\r\n\r\n  read(length: number): Data<number> {\r\n    const result = this.buf.slice(this.position, this.position + length)\r\n    this.position += length\r\n    return result\r\n  }\r\n\r\n  /* read a big-endian 32-bit integer */\r\n  readInt32(): number {\r\n    const result =\r\n      (this.readByte() << 24)\r\n      + (this.readByte() << 16)\r\n      + (this.readByte() << 8)\r\n      + this.readByte()\r\n    return result\r\n  }\r\n\r\n  /* read a big-endian 16-bit integer */\r\n  readInt16(): number {\r\n    var result =\r\n      (this.readByte() << 8)\r\n      + this.readByte()\r\n    return result\r\n  }\r\n\r\n  /* read an 8-bit integer */\r\n  readInt8(signed = false): number {\r\n    let result = this.readByte()\r\n    if (signed && result > 127) result -= 256\r\n    return result\r\n  }\r\n\r\n  eof(): boolean {\r\n    return this.position >= this.buf.length\r\n  }\r\n\r\n  /* read a MIDI-style variable-length integer\r\n    (big-endian value in groups of 7 bits,\r\n    with top bit set to signify that another byte follows)\r\n  */\r\n  readVarInt(): number {\r\n    let result = 0\r\n    for (;;) {\r\n      const b = this.readInt8()\r\n      if (b & 0x80) {\r\n        result += (b & 0x7f)\r\n        result <<= 7\r\n      } else {\r\n        /* b is the last byte */\r\n        return result + b\r\n      }\r\n    }\r\n  }\r\n}\r\n","\r\nimport {\r\n  Event, \r\n  SequenceNumberEvent,\r\n  TextEvent, \r\n  CopyrightNoticeEvent, \r\n  TrackNameEvent, \r\n  InstrumentNameEvent, \r\n  LyricsEvent, \r\n  MarkerEvent, \r\n  CuePointEvent, \r\n  ChannelPrefixEvent, \r\n  PortPrefixEvent,\r\n  EndOfTrackEvent,\r\n  SetTempoEvent, \r\n  SmpteOffsetEvent, \r\n  TimeSignatureEvent,\r\n  KeySignatureEvent,\r\n  SequencerSpecificEvent,\r\n  UnknownMetaEvent,\r\n  SysExEvent,\r\n  DividedSysExEvent,\r\n  NoteOffEvent,\r\n  NoteOnEvent,\r\n  NoteAftertouchEvent,\r\n  ControllerEvent,\r\n  ProgramChangeEvent,\r\n  ChannelAftertouchEvent,\r\n  PitchBendEvent,\r\n  UnknownChannelEvent\r\n} from \"./event\"\r\n\r\nexport default function deserialize(stream, lastEventTypeByte: number, setLastEventTypeByte: (number) => void): Event {\r\n  const deltaTime = stream.readVarInt()\r\n  let eventTypeByte = stream.readInt8()\r\n  if ((eventTypeByte & 0xf0) === 0xf0) {\r\n    /* system / meta event */\r\n    if (eventTypeByte === 0xff) {\r\n      /* meta event */\r\n      const type = \"meta\"\r\n      const subtypeByte = stream.readInt8()\r\n      const length = stream.readVarInt()\r\n      switch(subtypeByte) {\r\n        case 0x00:\r\n          if (length !== 2) throw new Error(\"Expected length for sequenceNumber event is 2, got \" + length)\r\n          return <SequenceNumberEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"sequenceNumber\",\r\n            number: stream.readInt16()\r\n          }\r\n        case 0x01:\r\n          return <TextEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"text\",\r\n            text: stream.readStr(length)\r\n          }\r\n        case 0x02:\r\n          return <CopyrightNoticeEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"copyrightNotice\",\r\n            text: stream.readStr(length)\r\n          }\r\n        case 0x03:\r\n          return <TrackNameEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"trackName\",\r\n            text: stream.readStr(length)\r\n          }\r\n        case 0x04:\r\n          return <InstrumentNameEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"instrumentName\",\r\n            text: stream.readStr(length)\r\n          }\r\n        case 0x05:\r\n        return <LyricsEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"lyrics\",\r\n            text: stream.readStr(length)\r\n          }\r\n        case 0x06:\r\n        return <MarkerEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"marker\",\r\n            text: stream.readStr(length)\r\n          }\r\n        case 0x07:\r\n        return <CuePointEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"cuePoint\",\r\n            text: stream.readStr(length)\r\n          }\r\n        case 0x20:\r\n          if (length !== 1) throw new Error(\"Expected length for midiChannelPrefix event is 1, got \" + length)\r\n          return <ChannelPrefixEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"midiChannelPrefix\",\r\n            channel: stream.readInt8()\r\n          }\r\n        case 0x21:\r\n          if (length !== 1) throw new Error(\"Expected length for midiChannelPrefix event is 1, got \" + length)\r\n          return <PortPrefixEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"portPrefix\",\r\n            port: stream.readInt8()\r\n          }\r\n        case 0x2f:\r\n          if (length !== 0) throw new Error(\"Expected length for endOfTrack event is 0, got \" + length)\r\n          return <EndOfTrackEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"endOfTrack\"\r\n          }\r\n        case 0x51:\r\n          if (length !== 3) throw new Error(\"Expected length for setTempo event is 3, got \" + length)\r\n          return <SetTempoEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"setTempo\",\r\n            microsecondsPerBeat: (\r\n              (stream.readInt8() << 16)\r\n              + (stream.readInt8() << 8)\r\n              + stream.readInt8()\r\n            )\r\n          }\r\n        case 0x54: {\r\n          if (length !== 5) throw new Error(\"Expected length for smpteOffset event is 5, got \" + length)\r\n          const hourByte = stream.readInt8()\r\n          return <SmpteOffsetEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"smpteOffset\",\r\n            frameRate: {0x00: 24, 0x20: 25, 0x40: 29, 0x60: 30}[hourByte & 0x60],\r\n            hour: hourByte & 0x1f,\r\n            min: stream.readInt8(),\r\n            sec: stream.readInt8(),\r\n            frame: stream.readInt8(),\r\n            subframe: stream.readInt8()\r\n          }\r\n        }\r\n        case 0x58:\r\n          if (length !== 4) throw new Error(\"Expected length for timeSignature event is 4, got \" + length)\r\n          return <TimeSignatureEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"timeSignature\",\r\n            numerator: stream.readInt8(),\r\n            denominator: Math.pow(2, stream.readInt8()),\r\n            metronome: stream.readInt8(),\r\n            thirtyseconds: stream.readInt8()\r\n          }\r\n        case 0x59:\r\n          if (length !== 2) throw new Error(\"Expected length for keySignature event is 2, got \" + length)\r\n          return <KeySignatureEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"keySignature\",\r\n            key: stream.readInt8(true),\r\n            scale: stream.readInt8()\r\n          }\r\n        case 0x7f:\r\n          return <SequencerSpecificEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"sequencerSpecific\",\r\n            data: stream.read(length)\r\n          }\r\n        default:\r\n          return <UnknownMetaEvent>{\r\n            deltaTime,\r\n            type,\r\n            subtype: \"unknown\",\r\n            data: stream.read(length)\r\n          }\r\n      }\r\n    } else if (eventTypeByte === 0xf0) {\r\n      const length = stream.readVarInt()\r\n      return <SysExEvent>{\r\n        deltaTime,\r\n        type: \"sysEx\",\r\n        data: stream.read(length)\r\n      }\r\n    } else if (eventTypeByte === 0xf7) {\r\n      const length = stream.readVarInt()\r\n      return <DividedSysExEvent>{\r\n        deltaTime,\r\n        type: \"dividedSysEx\",\r\n        data: stream.read(length)\r\n      }\r\n    } else {\r\n      throw new Error(\"Unrecognised MIDI event type byte: \" + eventTypeByte)\r\n    }\r\n  } else {\r\n    /* channel event */\r\n    let param1\r\n    if ((eventTypeByte & 0x80) === 0) {\r\n      /* running status - reuse lastEventTypeByte as the event type.\r\n        eventTypeByte is actually the first parameter\r\n      */\r\n      param1 = eventTypeByte\r\n      eventTypeByte = lastEventTypeByte\r\n    } else {\r\n      param1 = stream.readInt8()\r\n      setLastEventTypeByte(eventTypeByte)\r\n    }\r\n    const eventType = eventTypeByte >> 4\r\n    const channel = eventTypeByte & 0x0f\r\n    const type = \"channel\"\r\n    switch (eventType) {\r\n      case 0x08:\r\n        return <NoteOffEvent>{\r\n          deltaTime,\r\n          type,\r\n          channel,\r\n          subtype: \"noteOff\",\r\n          noteNumber: param1,\r\n          velocity: stream.readInt8()\r\n        }\r\n      case 0x09: {\r\n        const velocity = stream.readInt8()\r\n        return <NoteOnEvent>{\r\n          deltaTime,\r\n          type,\r\n          channel,\r\n          subtype: velocity === 0 ? \"noteOff\" : \"noteOn\",\r\n          noteNumber: param1,\r\n          velocity: velocity\r\n        }\r\n      }\r\n      case 0x0a:\r\n        return <NoteAftertouchEvent>{\r\n          deltaTime,\r\n          type,\r\n          channel,\r\n          subtype: \"noteAftertouch\",\r\n          noteNumber: param1,\r\n          amount: stream.readInt8()\r\n        }\r\n      case 0x0b:\r\n        return <ControllerEvent>{\r\n          deltaTime,\r\n          type,\r\n          channel,\r\n          subtype: \"controller\",\r\n          controllerType: param1,\r\n          value: stream.readInt8()\r\n        }\r\n      case 0x0c:\r\n        return <ProgramChangeEvent>{\r\n          deltaTime,\r\n          type,\r\n          channel,\r\n          subtype: \"programChange\",\r\n          value: param1\r\n        }\r\n      case 0x0d:\r\n        return <ChannelAftertouchEvent>{\r\n          deltaTime,\r\n          type,\r\n          channel,\r\n          subtype: \"channelAftertouch\",\r\n          amount: param1\r\n        }\r\n      case 0x0e:\r\n        return <PitchBendEvent>{\r\n          deltaTime,\r\n          type,\r\n          channel,\r\n          subtype: \"pitchBend\",\r\n          value: param1 + (stream.readInt8() << 7)\r\n        }\r\n      default:\r\n        return <UnknownChannelEvent>{\r\n          deltaTime,\r\n          type,\r\n          channel,\r\n          subtype: \"unknown\",\r\n          data: stream.readInt8()\r\n        }\r\n    }\r\n  }\r\n}\r\n","import { Event } from \"./event\"\r\nimport Stream, { Data } from \"./stream\"\r\nimport deserialize from \"./deserialize\"\r\n\r\n/*\r\nclass to parse the .mid file format\r\n(depends on stream.js)\r\n*/\r\nexport default function read(data: Data<number>) {\r\n  function readChunk(stream: Stream) {\r\n    const id = stream.readStr(4)\r\n    const length = stream.readInt32()\r\n    return {\r\n      id,\r\n      length,\r\n      data: stream.read(length)\r\n    }\r\n  }\r\n\r\n  const stream = new Stream(data)\r\n  const headerChunk = readChunk(stream)\r\n  if (headerChunk.id !== \"MThd\" || headerChunk.length !== 6) {\r\n    throw new Error(\"Bad .mid file - header not found\")\r\n  }\r\n  const headerStream = new Stream(headerChunk.data)\r\n  const formatType = headerStream.readInt16()\r\n  const trackCount = headerStream.readInt16()\r\n  const timeDivision = headerStream.readInt16()\r\n  let ticksPerBeat: number\r\n\r\n  if (timeDivision & 0x8000) {\r\n    throw new Error(\"Expressing time division in SMTPE frames is not supported yet\")\r\n  } else {\r\n    ticksPerBeat = timeDivision\r\n  }\r\n\r\n  const header = {\r\n    formatType,\r\n    trackCount,\r\n    ticksPerBeat\r\n  }\r\n\r\n  let lastEventTypeByte: number\r\n  function readEvent(stream): Event {\r\n    return deserialize(stream, lastEventTypeByte, (byte) => lastEventTypeByte = byte)\r\n  }\r\n\r\n  const tracks: Event[][] = []\r\n  for (let i = 0; i < header.trackCount; i++) {\r\n    tracks[i] = []\r\n    const trackChunk = readChunk(stream)\r\n    if (trackChunk.id !== \"MTrk\") {\r\n      throw new Error(\"Unexpected chunk - expected MTrk, got \"+ trackChunk.id)\r\n    }\r\n    const trackStream = new Stream(trackChunk.data)\r\n    while (!trackStream.eof()) {\r\n      const event = readEvent(trackStream)\r\n      tracks[i].push(event)\r\n    }\r\n  }\r\n\r\n  return {\r\n    header,\r\n    tracks\r\n  }\r\n}\r\n","export default function toCharCodes(str: string): number[] {\r\n  const bytes: number[] = []\r\n  for (let i = 0; i < str.length; i++) {\r\n    bytes.push(str.charCodeAt(i))\r\n  }\r\n  return bytes\r\n}\r\n","import toCharCodes from \"./toCharCodes\"\r\n\r\nexport default class Buffer {\r\n  data: number[] = []\r\n\r\n  get length() {\r\n    return this.data.length\r\n  }\r\n\r\n  writeByte(v: number, pos?: number) {\r\n    if (pos) {\r\n      this.data[pos] = v\r\n    } else {\r\n      this.data.push(v)\r\n    }\r\n  }\r\n\r\n  writeStr(str: string) {\r\n    this.writeBytes(toCharCodes(str))\r\n  }\r\n\r\n  writeInt32(v: number, pos: number = 0) {\r\n    this.writeByte((v >> 24) & 0xff, pos)\r\n    this.writeByte((v >> 16) & 0xff, pos + 1)\r\n    this.writeByte((v >> 8) & 0xff, pos + 2)\r\n    this.writeByte(v & 0xff, pos + 3)\r\n  }\r\n\r\n  writeInt16(v: number, pos: number = 0) {\r\n    this.writeByte((v >> 8) & 0xff, pos)\r\n    this.writeByte(v & 0xff, pos + 1)\r\n  }\r\n\r\n  writeBytes(arr: number[]) {\r\n    arr.forEach(v => this.writeByte(v))\r\n  }\r\n\r\n  writeChunk(id: string, func: Function) {\r\n    this.writeStr(id)\r\n    const sizePos = this.length\r\n    this.writeInt32(0) // dummy chunk size\r\n    const start = this.length\r\n    func(this) // write chunk contents\r\n    const size = this.length - start\r\n    this.writeInt32(size, sizePos) // write chunk size\r\n  }\r\n\r\n  toBytes() {\r\n    return new Uint8Array(this.data)\r\n  }\r\n}\r\n","// variable-length quantity\r\n\r\nexport function toVLQ(intNum: number): number[] {\r\n  let v = intNum\r\n  const r = [v & 0x7f]\r\n  while (true) {\r\n    v >>= 7\r\n    if (v === 0) {\r\n      break\r\n    }\r\n    r.unshift(0x80 + (v & 0x7f))\r\n  }\r\n  return r\r\n}\r\n\r\nexport function fromVLQ(vlq) {\r\n  let result = 0\r\n  for (;;) {\r\n    const b = vlq.shift()\r\n    if (b & 0x80) {\r\n      result += (b & 0x7f)\r\n      result <<= 7\r\n    } else {\r\n      /* b is the last byte */\r\n      return result + b\r\n    }\r\n  }\r\n}\r\n","export default {\r\n  \"noteOff\": 0x08,\r\n  \"noteOn\": 0x09,\r\n  \"noteAftertouch\": 0x0a,\r\n  \"controller\": 0x0b,\r\n  \"programChange\": 0x0c,\r\n  \"channelAftertouch\": 0x0d,\r\n  \"pitchBend\": 0x0e,\r\n}\r\n","export default {\r\n  sequenceNumber: 0x00,\r\n  text: 0x01,\r\n  copyrightNotice: 0x02,\r\n  trackName: 0x03,\r\n  instrumentName: 0x04,\r\n  lyrics: 0x05,\r\n  marker: 0x06,\r\n  cuePoint: 0x07,\r\n  midiChannelPrefix: 0x20,\r\n  portPrefix: 0x21,\r\n  endOfTrack: 0x2f,\r\n  setTempo: 0x51,\r\n  smpteOffset: 0x54,\r\n  timeSignature: 0x58,\r\n  keySignature: 0x59,\r\n  sequencerSpecific: 0x7f\r\n}\r\n","import {\r\n  Event, \r\n  MetaEvent, \r\n  TextEvent, \r\n  CopyrightNoticeEvent, \r\n  TrackNameEvent, \r\n  InstrumentNameEvent, \r\n  LyricsEvent, \r\n  CuePointEvent, \r\n  PortPrefixEvent, \r\n  SetTempoEvent, \r\n  TimeSignatureEvent, \r\n  KeySignatureEvent, \r\n  SequencerSpecificEvent, \r\n  SysExEvent, \r\n  DividedSysExEvent, \r\n  ChannelEvent, \r\n  NoteOffEvent, \r\n  NoteOnEvent, \r\n  NoteAftertouchEvent, \r\n  ControllerEvent, \r\n  ProgramChangeEvent, \r\n  ChannelAftertouchEvent,\r\n  PitchBendEvent, \r\n  UnknownChannelEvent, \r\n  UnknownMetaEvent, \r\n  ChannelPrefixEvent \r\n} from \"./event\"\r\nimport { toVLQ } from \"./vlq\"\r\nimport toCharCodes from \"./toCharCodes\"\r\nimport MIDIChannelEvents from \"./constants/MIDIChannelEvents\"\r\nimport MIDIMetaEvents from \"./constants/MIDIMetaEvents\"\r\n\r\nexport default function serialize(event: Event, includeDeltaTime = true) {\r\n  const bytes: number[] = []\r\n\r\n  function add(data) {\r\n    if (data.forEach !== undefined) {\r\n      data.forEach(add)\r\n    } else {\r\n      if (!Number.isInteger(data)) {\r\n        throw new Error(`\"${data}\" is not integer`)\r\n      }\r\n      bytes.push(data)\r\n    }\r\n  }\r\n\r\n  if (includeDeltaTime) {\r\n    add(toVLQ(event.deltaTime))\r\n  }\r\n\r\n  function addNumbers(list: number[]) {\r\n    add(list.length)\r\n    list.forEach(v => add(v))\r\n  }\r\n\r\n  function addText(text: string) {\r\n    add(text.length)\r\n    add(toCharCodes(text))\r\n  }\r\n\r\n  switch (event.type) {\r\n    case \"meta\": {\r\n      const e = event as MetaEvent\r\n      const subtypeCode = MIDIMetaEvents[e.subtype]\r\n      if (subtypeCode === undefined) {\r\n        return []\r\n      }\r\n      add(0xff) // type\r\n      add(subtypeCode) // subtype\r\n      switch(e.subtype) {\r\n        case \"text\":\r\n          addText((e as TextEvent).text)\r\n          break\r\n        case \"copyrightNotice\":\r\n          addText((e as CopyrightNoticeEvent).text)\r\n          break\r\n        case \"trackName\":\r\n          addText((e as TrackNameEvent).text)\r\n          break\r\n        case \"instrumentName\":\r\n          addText((e as InstrumentNameEvent).text)\r\n          break\r\n        case \"lyrics\":\r\n          addText((e as LyricsEvent).text)\r\n          break\r\n        case \"cuePoint\":\r\n          addText((e as CuePointEvent).text)\r\n          break\r\n        case \"midiChannelPrefix\":\r\n          addNumbers([(e as ChannelPrefixEvent).channel])\r\n          break\r\n        case \"portPrefix\":\r\n          addNumbers([(e as PortPrefixEvent).port])\r\n          break\r\n        case \"endOfTrack\":\r\n          add(0)\r\n          break\r\n        case \"setTempo\": {\r\n          const t = (e as SetTempoEvent).microsecondsPerBeat\r\n          addNumbers([\r\n            (t >> 16) & 0xff,\r\n            (t >> 8) & 0xff,\r\n            t & 0xff\r\n          ])\r\n          break\r\n        }\r\n        case \"timeSignature\": {\r\n          const ev = e as TimeSignatureEvent\r\n          addNumbers([\r\n            ev.numerator,\r\n            Math.log2(ev.denominator),\r\n            ev.metronome,\r\n            ev.thirtyseconds\r\n          ])\r\n          break\r\n        }\r\n        case \"keySignature\": {\r\n          const ev = e as KeySignatureEvent\r\n          addNumbers([\r\n            ev.key,\r\n            ev.scale\r\n          ])\r\n          break\r\n        }\r\n        case \"sequencerSpecific\":\r\n          addNumbers((e as SequencerSpecificEvent).data)\r\n          break\r\n        case \"unknown\":\r\n          addNumbers((e as UnknownMetaEvent).data)\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      break\r\n    }\r\n    case \"sysEx\":\r\n      add(0xf0)\r\n      addNumbers((event as SysExEvent).data)\r\n      break\r\n    case \"dividedSysEx\":\r\n      add(0xf7)\r\n      addNumbers((event as DividedSysExEvent).data)\r\n      break\r\n    case \"channel\": {\r\n      const e = event as ChannelEvent\r\n      const subtypeCode = MIDIChannelEvents[e.subtype]\r\n      if (subtypeCode === undefined) {\r\n        return []\r\n      }\r\n      add((subtypeCode << 4) + e.channel) // subtype + channel\r\n      switch(e.subtype) {\r\n        case \"noteOff\": {\r\n          const ev = e as NoteOffEvent\r\n          add(ev.noteNumber)\r\n          add(ev.velocity)\r\n          break\r\n        }\r\n        case \"noteOn\": {\r\n          const ev = e as NoteOnEvent\r\n          add(ev.noteNumber)\r\n          add(ev.velocity)\r\n          break\r\n        }\r\n        case \"noteAftertouch\": {\r\n          const ev = e as NoteAftertouchEvent\r\n          add(ev.noteNumber)\r\n          add(ev.amount)\r\n          break\r\n        }\r\n        case \"controller\": {\r\n          const ev = e as ControllerEvent\r\n          add(ev.controllerType)\r\n          add(ev.value)\r\n          break\r\n        }\r\n        case \"programChange\":\r\n          add((e as ProgramChangeEvent).value)\r\n          break\r\n        case \"channelAftertouch\":\r\n          add((e as ChannelAftertouchEvent).amount)\r\n          break\r\n        case \"pitchBend\": {\r\n          const ev = e as PitchBendEvent\r\n          add(ev.value & 0x7f)\r\n          add((ev.value >> 7) & 0x7f)\r\n          break\r\n        }\r\n        case \"unknown\":\r\n          add((e as UnknownChannelEvent).data)\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      break\r\n    }\r\n    default:\r\n  }\r\n\r\n  return bytes\r\n}\r\n","import _ from \"lodash\"\r\nimport { Event } from \"./event\"\r\nimport Buffer from \"./buffer\"\r\nimport serialize from \"./serialize\"\r\n\r\n//https://sites.google.com/site/yyagisite/material/smfspec#format\r\n\r\nexport default function write(tracks: Event[][], ticksPerBeat = 480) {\r\n  const buf = new Buffer()\r\n\r\n  // header chunk\r\n  buf.writeChunk(\"MThd\", it => {\r\n    it.writeInt16(1) // formatType\r\n    it.writeInt16(tracks.length) // trackCount\r\n    it.writeInt16(ticksPerBeat) // timeDivision\r\n  })\r\n\r\n  // track chunk\r\n  for (const track of tracks) {\r\n    buf.writeChunk(\"MTrk\", it => {\r\n      for (const event of track) {\r\n        it.writeBytes(serialize(event))\r\n      }\r\n    })\r\n  }\r\n\r\n  return buf.toBytes()\r\n}\r\n\r\n","export default {\r\n  \"0\": \"Bank Select\",\r\n  \"1\": \"Modulation\",\r\n  \"2\": \"Breath Controller\",\r\n  \"4\": \"Foot Pedal\",\r\n  \"5\": \"Portamento Time\",\r\n  \"6\": \"Data Entry\",\r\n  \"7\": \"Volume\",\r\n  \"8\": \"Balance\",\r\n  \"10\": \"Pan\",\r\n  \"11\": \"Expression\",\r\n  \"12\": \"Effect Control 1\",\r\n  \"13\": \"Effect Control 2\",\r\n  \"14\": \"Undefined\",\r\n  \"15\": \"Undefined\",\r\n  \"16\": \"General Purpose Slider 1\",\r\n  \"17\": \"General Purpose Slider 2\",\r\n  \"18\": \"General Purpose Slider 3\",\r\n  \"19\": \"Knob 2 General Purpose Slider 4\",\r\n  \"20\": \"Knob 3\",\r\n  \"21\": \"Knob 4\",\r\n  \"32\": \"Bank Select\",\r\n  \"33\": \"Modulation Wheel\",\r\n  \"34\": \"Breath controller\",\r\n  \"36\": \"Foot Pedal\",\r\n  \"37\": \"Portamento Time\",\r\n  \"38\": \"Data Entry\",\r\n  \"39\": \"Volume\",\r\n  \"40\": \"Balance\",\r\n  \"42\": \"Pan position\",\r\n  \"43\": \"Expression\",\r\n  \"44\": \"Effect Control 1\",\r\n  \"45\": \"Effect Control 2\",\r\n  \"64\": \"Hold Pedal\",\r\n  \"65\": \"Portamento\",\r\n  \"66\": \"Sustenuto Pedal\",\r\n  \"67\": \"Soft Pedal\",\r\n  \"68\": \"Legato Pedal\",\r\n  \"69\": \"Hold 2 Pedal\",\r\n  \"70\": \"Sound Variation\",\r\n  \"71\": \"Resonance\",\r\n  \"72\": \"Sound Release Time\",\r\n  \"73\": \"Sound Attack Time\",\r\n  \"74\": \"Frequency Cutoff\",\r\n  \"75\": \"Sound Control 6\",\r\n  \"76\": \"Sound Control 7\",\r\n  \"77\": \"Sound Control 8\",\r\n  \"78\": \"Sound Control 9\",\r\n  \"79\": \"Sound Control 10\",\r\n  \"80\": \"Decay\",\r\n  \"81\": \"High Pass Filter Frequency\",\r\n  \"82\": \"General Purpose Button 3\",\r\n  \"83\": \"General Purpose Button 4\",\r\n  \"91\": \"Reverb Level\",\r\n  \"92\": \"Tremolo Level\",\r\n  \"93\": \"Chorus Level\",\r\n  \"94\": \"Detune\",\r\n  \"95\": \"Phaser Level\",\r\n  \"96\": \"Data Button Increment\",\r\n  \"97\": \"Data Button Decrement\",\r\n  \"98\": \"NRPN (LSB)\",\r\n  \"99\": \"NRPN (MSB)\",\r\n  \"100\": \"RPN (LSB)\",\r\n  \"101\": \"RPN (MSB)\",\r\n  \"120\": \"All Sound Off\",\r\n  \"121\": \"All Controllers Off\",\r\n  \"122\": \"Local Keyboard\",\r\n  \"123\": \"All Notes Off\",\r\n  \"124\": \"Omni Mode Off\",\r\n  \"125\": \"Omni Mode On\",\r\n  \"126\": \"Mono Operation\",\r\n  \"127\": \"Poly Operation\"\r\n}\r\n","export default {\r\n  MSB_BANK: 0x00,\r\n  MSB_MODWHEEL: 0x01,\r\n  MSB_BREATH: 0x02,\r\n  MSB_FOOT: 0x04,\r\n  MSB_PORTAMENTO_TIME: 0x05,\r\n  MSB_DATA_ENTRY: 0x06,\r\n  MSB_MAIN_VOLUME: 0x07,\r\n  MSB_BALANCE: 0x08,\r\n  MSB_PAN: 0x0a,\r\n  MSB_EXPRESSION: 0x0b,\r\n  MSB_EFFECT1: 0x0c,\r\n  MSB_EFFECT2: 0x0d,\r\n  MSB_GENERAL_PURPOSE1: 0x10,\r\n  MSB_GENERAL_PURPOSE2: 0x11,\r\n  MSB_GENERAL_PURPOSE3: 0x12,\r\n  MSB_GENERAL_PURPOSE4: 0x13,\r\n  LSB_BANK: 0x20,\r\n  LSB_MODWHEEL: 0x21,\r\n  LSB_BREATH: 0x22,\r\n  LSB_FOOT: 0x24,\r\n  LSB_PORTAMENTO_TIME: 0x25,\r\n  LSB_DATA_ENTRY: 0x26,\r\n  LSB_MAIN_VOLUME: 0x27,\r\n  LSB_BALANCE: 0x28,\r\n  LSB_PAN: 0x2a,\r\n  LSB_EXPRESSION: 0x2b,\r\n  LSB_EFFECT1: 0x2c,\r\n  LSB_EFFECT2: 0x2d,\r\n  LSB_GENERAL_PURPOSE1: 0x30,\r\n  LSB_GENERAL_PURPOSE2: 0x31,\r\n  LSB_GENERAL_PURPOSE3: 0x32,\r\n  LSB_GENERAL_PURPOSE4: 0x33,\r\n  SUSTAIN: 0x40,\r\n  PORTAMENTO: 0x41,\r\n  SOSTENUTO: 0x42,\r\n  SUSTENUTO: 0x42,\r\n  SOFT_PEDAL: 0x43,\r\n  LEGATO_FOOTSWITCH: 0x44,\r\n  HOLD2: 0x45,\r\n  SC1_SOUND_VARIATION: 0x46,\r\n  SC2_TIMBRE: 0x47,\r\n  SC3_RELEASE_TIME: 0x48,\r\n  SC4_ATTACK_TIME: 0x49,\r\n  SC5_BRIGHTNESS: 0x4a,\r\n  SC6: 0x4b,\r\n  SC7: 0x4c,\r\n  SC8: 0x4d,\r\n  SC9: 0x4e,\r\n  SC10: 0x4f,\r\n  GENERAL_PURPOSE5: 0x50,\r\n  GENERAL_PURPOSE6: 0x51,\r\n  GENERAL_PURPOSE7: 0x52,\r\n  GENERAL_PURPOSE8: 0x53,\r\n  PORTAMENTO_CONTROL: 0x54,\r\n  E1_REVERB_DEPTH: 0x5b,\r\n  E2_TREMOLO_DEPTH: 0x5c,\r\n  E3_CHORUS_DEPTH: 0x5d,\r\n  E4_DETUNE_DEPTH: 0x5e,\r\n  E5_PHASER_DEPTH: 0x5f,\r\n  DATA_INCREMENT: 0x60,\r\n  DATA_DECREMENT: 0x61,\r\n  NONREG_PARM_NUM_LSB: 0x62,\r\n  NONREG_PARM_NUM_MSB: 0x63,\r\n  REGIST_PARM_NUM_LSB: 0x64,\r\n  REGIST_PARM_NUM_MSB: 0x65,\r\n  ALL_SOUNDS_OFF: 0x78,\r\n  RESET_CONTROLLERS: 0x79,\r\n  LOCAL_CONTROL_SWITCH: 0x7a,\r\n  ALL_NOTES_OFF: 0x7b,\r\n  OMNI_OFF: 0x7c,\r\n  OMNI_ON: 0x7d,\r\n  MONO1: 0x7e,\r\n  MONO2: 0x7f,\r\n}\r\n","export default {\r\n  0x00: \"sequenceNumber\",\r\n  0x01: \"text\",\r\n  0x02: \"copyrightNotice\",\r\n  0x03: \"trackName\",\r\n  0x04: \"instrumentName\",\r\n  0x05: \"lyrics\",\r\n  0x06: \"marker\",\r\n  0x07: \"cuePoint\",\r\n  0x20: \"midiChannelPrefix\",\r\n  0x21: \"portPrefix\",\r\n  0x2f: \"endOfTrack\",\r\n  0x51: \"setTempo\",\r\n  0x54: \"smpteOffset\",\r\n  0x58: \"timeSignature\",\r\n  0x59: \"keySignature\",\r\n  0x7f: \"sequencerSpecific\"\r\n}\r\n"],"names":[],"mappings":"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"}